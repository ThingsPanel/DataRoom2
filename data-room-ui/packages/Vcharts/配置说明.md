# V柱状图 (VBarChart) 配置说明

本文档详细说明了"V柱状图"组件的各项配置参数。

## 一、数据设置 (dataMapping)

配置图表所需的数据字段。

*   **类别轴字段 (X轴)** (`spec.xField`)
    *   **描述**: 指定用于图表X轴（类别轴）的数据字段名称。
    *   **UI控件**: 下拉选择 (select)
    *   **默认值**: 'x'
*   **值轴字段 (Y轴)** (`spec.yField`)
    *   **描述**: 指定用于图表Y轴（值轴）的数据字段名称。
    *   **UI控件**: 下拉选择 (select)
    *   **默认值**: 'y'

## 二、图表标题 (chartTitle)

配置图表的主标题信息。

*   **显示主标题** (`spec.title.visible`)
    *   **描述**: 控制是否显示图表的主标题。
    *   **UI控件**: 开关 (switch)
    *   **VChart类型**: boolean
    *   **默认值**: `true`
*   **主标题文字** (`spec.title.text`)
    *   **描述**: 设置主标题的文本内容。
    *   **UI控件**: 输入框 (input)
    *   **VChart类型**: string
    *   **默认值**: 'V柱状图'
*   **主标题文字颜色** (`spec.title.textStyle.fill`)
    *   **描述**: 设置主标题文字的颜色。
    *   **UI控件**: 颜色选择器 (colorPicker)
    *   **VChart类型**: string
    *   **默认值**: '#333333'
*   **主标题文字大小** (`spec.title.textStyle.fontSize`)
    *   **描述**: 设置主标题文字的字号大小。
    *   **UI控件**: 数字输入 (inputNumber)
    *   **VChart类型**: number
    *   **默认值**: 18
*   **标题整体位置** (`spec.title.orient`)
    *   **描述**: 设置标题相对于图表的位置。
    *   **UI控件**: 下拉选择 (select)
    *   **VChart类型**: string
    *   **可选值**: 'top' (顶部), 'bottom' (底部)
    *   **默认值**: 'top'
*   **主标题水平对齐** (`spec.title.align`)
    *   **描述**: 设置主标题在其位置上的水平对齐方式。
    *   **UI控件**: 下拉选择 (select)
    *   **VChart类型**: string
    *   **可选值**: 'left' (左对齐), 'center' (居中), 'right' (右对齐)
    *   **默认值**: 'center'

## 三、柱体样式 (barStyle)

配置柱状图中柱条的视觉样式。(注意：根据最新配置，柱体颜色已移除，将依赖主题或VChart默认颜色系列)

*   **柱体宽度 (px)** (`spec.barWidth`)
    *   **描述**: 设置柱体的固定宽度（像素）。设置后，`barMaxWidth`/`barMinWidth` 将被忽略。留空或设为 `null` 则为自动宽度。
    *   **UI控件**: 数字输入 (inputNumber)
    *   **VChart类型**: number
    *   **默认值**: 自动 (`null`)
*   **柱体最大宽度 (px)** (`spec.barMaxWidth`)
    *   **描述**: 设置柱体的最大宽度（像素），当 `barWidth` 未设置时生效。留空或设为 `null` 则为自动。
    *   **UI控件**: 数字输入 (inputNumber)
    *   **VChart类型**: number
    *   **默认值**: 自动 (`null`)
*   **柱体圆角半径 (px)** (`spec.bar.style.cornerRadius`)
    *   **描述**: 设置柱体顶部的圆角半径。
    *   **UI控件**: 数字输入 (inputNumber)
    *   **VChart类型**: number
    *   **默认值**: 0
*   **柱体描边颜色** (`spec.bar.style.stroke`)
    *   **描述**: 设置柱体的描边颜色。
    *   **UI控件**: 颜色选择器 (colorPicker)
    *   **VChart类型**: string
    *   **默认值**: '' (无描边)
*   **柱体描边宽度 (px)** (`spec.bar.style.lineWidth`)
    *   **描述**: 设置柱体的描边宽度。
    *   **UI控件**: 数字输入 (inputNumber)
    *   **VChart类型**: number
    *   **默认值**: 0

## 四、X轴样式 (axesStyleX)

配置X轴（通常是类别轴）的详细样式。

*   **X轴类型** (`spec.axes[0].type`)
    *   **描述**: 设置X轴的类型。
    *   **UI控件**: 下拉选择 (select)
    *   **VChart类型**: string
    *   **可选值**: 'band' (离散轴), 'linear' (线性轴), 'time' (时间轴)
    *   **默认值**: 'band'
*   **显示X轴标题** (`spec.axes[0].title.visible`)
    *   **UI控件**: 开关 (switch), **VChart类型**: boolean, **默认值**: `false`
*   **X轴标题文字** (`spec.axes[0].title.text`)
    *   **UI控件**: 输入框 (input), **VChart类型**: string, **默认值**: ''
*   **X轴标题文字颜色** (`spec.axes[0].title.style.fill`)
    *   **UI控件**: 颜色选择器 (colorPicker), **VChart类型**: string, **默认值**: '#333333'
*   **X轴标题文字大小** (`spec.axes[0].title.style.fontSize`)
    *   **UI控件**: 数字输入 (inputNumber), **VChart类型**: number, **默认值**: 12
*   **显示X轴标签** (`spec.axes[0].label.visible`)
    *   **UI控件**: 开关 (switch), **VChart类型**: boolean, **默认值**: `true`
*   **X轴标签文字颜色** (`spec.axes[0].label.style.fill`)
    *   **UI控件**: 颜色选择器 (colorPicker), **VChart类型**: string, **默认值**: '#666666'
*   **X轴标签文字大小** (`spec.axes[0].label.style.fontSize`)
    *   **UI控件**: 数字输入 (inputNumber), **VChart类型**: number, **默认值**: 12
*   **显示X轴网格线** (`spec.axes[0].grid.visible`)
    *   **UI控件**: 开关 (switch), **VChart类型**: boolean, **默认值**: `false`
*   **X轴网格线颜色** (`spec.axes[0].grid.style.stroke`)
    *   **UI控件**: 颜色选择器 (colorPicker), **VChart类型**: string, **默认值**: '#E5E5E5'
*   **X轴网格线类型** (`spec.axes[0].grid.style.lineDash`)
    *   **描述**: 设置网格线的虚线样式。输入JSON数组格式的字符串，例如 `[4,4]` 表示虚线，`[]` 或 `[0]` 表示实线。
    *   **UI控件**: 输入框 (input)
    *   **VChart类型**: array
    *   **默认值**: '[]' (实线)

## 五、Y轴样式 (axesStyleY)

配置Y轴（通常是值轴）的详细样式。

*   **Y轴类型** (`spec.axes[1].type`)
    *   **UI控件**: 下拉选择 (select), **VChart类型**: string, **默认值**: 'linear'
    *   **可选值**: 'linear' (线性轴), 'log' (Log轴), 'symlog' (Symlog轴)
*   **显示Y轴标题** (`spec.axes[1].title.visible`)
    *   **UI控件**: 开关 (switch), **VChart类型**: boolean, **默认值**: `false`
*   **Y轴标题文字** (`spec.axes[1].title.text`)
    *   **UI控件**: 输入框 (input), **VChart类型**: string, **默认值**: ''
*   **Y轴标题文字颜色** (`spec.axes[1].title.style.fill`)
    *   **UI控件**: 颜色选择器 (colorPicker), **VChart类型**: string, **默认值**: '#333333'
*   **Y轴标题文字大小** (`spec.axes[1].title.style.fontSize`)
    *   **UI控件**: 数字输入 (inputNumber), **VChart类型**: number, **默认值**: 12
*   **显示Y轴标签** (`spec.axes[1].label.visible`)
    *   **UI控件**: 开关 (switch), **VChart类型**: boolean, **默认值**: `true`
*   **Y轴标签文字颜色** (`spec.axes[1].label.style.fill`)
    *   **UI控件**: 颜色选择器 (colorPicker), **VChart类型**: string, **默认值**: '#666666'
*   **Y轴标签文字大小** (`spec.axes[1].label.style.fontSize`)
    *   **UI控件**: 数字输入 (inputNumber), **VChart类型**: number, **默认值**: 12
*   **显示Y轴网格线** (`spec.axes[1].grid.visible`)
    *   **UI控件**: 开关 (switch), **VChart类型**: boolean, **默认值**: `true`
*   **Y轴网格线颜色** (`spec.axes[1].grid.style.stroke`)
    *   **UI控件**: 颜色选择器 (colorPicker), **VChart类型**: string, **默认值**: '#E5E5E5'
*   **Y轴网格线类型** (`spec.axes[1].grid.style.lineDash`)
    *   **描述**: 设置网格线的虚线样式。输入JSON数组格式的字符串，例如 `[4,4]` 表示虚线，`[]` 或 `[0]` 表示实线。
    *   **UI控件**: 输入框 (input)
    *   **VChart类型**: array
    *   **默认值**: '[]' (实线)

## 六、图例样式 (legendStyle)

配置图例的显示和样式。(注意：根据最新配置，图例默认不显示)

*   **显示图例** (`spec.legends.visible`)
    *   **UI控件**: 开关 (switch), **VChart类型**: boolean, **默认值**: `false`
*   **图例项文本** (`spec.legends.data[0].label`)
    *   **描述**: 自定义图例中（单个）代表数据的条目的显示名称。
    *   **UI控件**: 输入框 (input)
    *   **VChart类型**: string
    *   **默认值**: 'Y轴数值'
*   **图例位置** (`spec.legends.orient`)
    *   **UI控件**: 下拉选择 (select), **VChart类型**: string, **默认值**: 'top'
    *   **可选值**: 'top', 'bottom', 'left', 'right'
*   **图例对齐方式** (`spec.legends.position`)
    *   **UI控件**: 下拉选择 (select), **VChart类型**: string, **默认值**: 'middle'
    *   **可选值**: 'start', 'middle', 'end'
*   **显示图例标题** (`spec.legends.title.visible`)
    *   **UI控件**: 开关 (switch), **VChart类型**: boolean, **默认值**: `false`
*   **图例标题文字** (`spec.legends.title.text`)
    *   **UI控件**: 输入框 (input), **VChart类型**: string, **默认值**: ''
*   **图例文字颜色** (`spec.legends.item.label.style.fill`)
    *   **UI控件**: 颜色选择器 (colorPicker), **VChart类型**: string, **默认值**: '#333333'
*   **图例文字大小** (`spec.legends.item.label.style.fontSize`)
    *   **UI控件**: 数字输入 (inputNumber), **VChart类型**: number, **默认值**: 12
*   **图例项最大宽度 (px)** (`spec.legends.item.maxWidth`)
    *   **UI控件**: 数字输入 (inputNumber), **VChart类型**: number, **默认值**: 100
*   **图例内边距 (px)** (`spec.legends.padding`)
    *   **UI控件**: 数字输入 (inputNumber), **VChart类型**: number, **默认值**: 10

## 七、动画配置 (animation)

配置图表的动画效果。

*   **启用动画** (`spec.animation`)
    *   **描述**: 控制是否启用图表动画。若启用，将使用VChart默认动画或`option.spec.animationNormal`中定义的具体动画。
    *   **UI控件**: 开关 (switch)
    *   **VChart类型**: boolean
    *   **默认值**: `true` (并使用 `option.spec.animationNormal` 中定义的详细循环动画)

## 八、高级选项 (advanced)

高级自定义功能。

*   **Spec处理脚本** (`specHandler`)
    *   **描述**: 提供一个JavaScript函数体字符串，用于在图表渲染前动态修改最终的VChart `spec`。函数接收 `spec` 和 `data` 作为参数，并应返回修改后的 `spec`。
    *   **UI控件**: 多行文本框 (textarea)
    *   **VChart类型**: string
    *   **默认值**: '' (空字符串)

---
**注意**: `vchartType` 指的是该配置项的值最终在 VChart `spec` 中期望的数据类型。UI控件的类型（如 `inputNumber`, `select`）仅代表在配置面板中的输入方式。
