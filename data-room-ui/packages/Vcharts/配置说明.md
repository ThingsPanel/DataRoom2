# V基础柱状图 配置说明

## 1. 基本信息

*   **标题 (title)**: `V基础柱状图`
*   **名称 (name)**: `V基础柱状图` (用于系统内部唯一标识)
*   **组件类型 (type)**: `customComponent`
*   **VChart 图表类型 (chartType)**: `bar`

## 2. 右侧配置项 (`setting`)

以下配置项会出现在组件的右侧配置面板中，允许用户进行交互式调整。

### 2.1 类别轴字段 (X轴)

*   **标签**: `类别轴字段 (X轴)`
*   **类型**: `select` (下拉选择框)
*   **字段名 (field)**: `xField` (存储在 `config` 中的键名)
*   **映射 VChart Spec (optionField)**: `xField` (直接映射到 VChart Spec 的 `xField` 属性)
*   **默认值 (value)**: `'category'` (默认使用数据中的 `category` 字段)
*   **说明**: 用于选择数据源中哪个字段作为图表的横向类别轴。

### 2.2 值轴字段 (Y轴)

*   **标签**: `值轴字段 (Y轴)`
*   **类型**: `select` (下拉选择框)
*   **字段名 (field)**: `yField` (存储在 `config` 中的键名)
*   **映射 VChart Spec (optionField)**: `yField` (直接映射到 VChart Spec 的 `yField` 属性)
*   **默认值 (value)**: `'value'` (默认使用数据中的 `value` 字段)
*   **说明**: 用于选择数据源中哪个字段作为图表的纵向数值轴。

### 2.3 显示标签

*   **标签**: `显示标签`
*   **类型**: `switch` (开关)
*   **字段名 (field)**: `label_visible` (存储在 `config` 中的键名)
*   **映射 VChart Spec (optionField)**: `label.visible` (映射到 VChart Spec 的 `label` 对象下的 `visible` 属性)
*   **默认值 (value)**: `false` (默认不显示柱子上的标签)
*   **说明**: 控制是否在每个柱子的顶部显示其对应的数值标签。

## 3. 默认 VChart Option (Spec) (`option`)

这是传递给 VChart 库用于初始化图表的核心配置对象。目前的简化版本包含：

```json
{
  "type": "bar",
  "data": [
    // 包含 id 为 'minimalBarData' 的示例数据
  ],
  "xField": "category", // 直接使用了 setting 中的默认值
  "yField": "value",   // 直接使用了 setting 中的默认值
  "label": {
    "visible": false // 直接使用了 setting 中的默认值
  }
}
```

*   **重要说明**: 当前版本直接在 `option` 中硬编码了 `xField`, `yField` 和 `label.visible` 的默认值。这使得图表在初始加载时会使用这些值。当用户通过右侧面板更改设置时，`VchartRender/index.vue` 中的 `applySettingsToVChartSpec` (或类似逻辑) 会根据用户的选择更新这些属性。
*   VChart 会根据这些核心配置自动处理坐标轴 (`axes`)、图例 (`legends`)、提示框 (`tooltip`) 等组件的默认显示。

## 4. 数据处理脚本 (`dataHandler`)

```javascript
`return data;`
```

*   **说明**: 当前脚本非常简单，直接返回从数据源获取的原始数据，不做任何处理。

## 5. Option 处理脚本 (`optionHandler`)

```javascript
`// This handler is now empty.`
```

*   **说明**: 当前脚本为空，不执行任何对 VChart Spec (`option`) 的额外修改或处理逻辑。
